# Arma 3 <-> ROS é›†æˆç³»ç»Ÿ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ä¸€ä¸ª**å®Œæ•´çš„ã€å¯è¿è¡Œçš„** Arma 3 ä¸ ROS é›†æˆç³»ç»Ÿï¼Œç”¨äºç¾¤ä½“æ— äººæœºè·¯å¾„è§„åˆ’ã€‚æœ¬é¡¹ç›®å°† Arma 3 æ¸¸æˆå¼•æ“ä½œä¸ºé«˜ä¿çœŸä»¿çœŸç¯å¢ƒï¼Œä¸ ROS ä¸­çš„ **EGO-Planner-v2** è·¯å¾„è§„åˆ’ç®—æ³•é›†æˆï¼Œå¹¶å¯é€‰é›†æˆ **ARK Robotics æ¡†æ¶**ä»¥å¢å¼ºæœºå™¨å­¦ä¹ èƒ½åŠ›ï¼Œå®ç°å¤šæ— äººæœºçš„è‡ªä¸»åè°ƒé£è¡Œã€‚

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è¯¦ç»†å®‰è£…æŒ‡å—](#è¯¦ç»†å®‰è£…æŒ‡å—)
- [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [è‡´è°¢](#è‡´è°¢)

---

## ç³»ç»Ÿæ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº† **Arma 3 æ¸¸æˆå¼•æ“**ä¸ **ROS (Robot Operating System)** ä¹‹é—´çš„åŒå‘é€šä¿¡ï¼Œç”¨äºç¾¤ä½“æ— äººæœºçš„è·¯å¾„è§„åˆ’å’Œæ§åˆ¶ã€‚ç³»ç»Ÿçš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š

- **é«˜ä¿çœŸä»¿çœŸç¯å¢ƒ**ï¼šåˆ©ç”¨ Arma 3 çš„å†›äº‹æ¨¡æ‹Ÿå¼•æ“æä¾›æ¥è¿‘çœŸå®çš„é£è¡Œç¯å¢ƒ
- **å¤šè§†è§’å›¾åƒé‡‡é›†**ï¼šåŒæ—¶é‡‡é›† 6 ä¸ªè§†è§’çš„æ— äººæœºå›¾åƒï¼Œç”¨äºç«‹ä½“è§†è§‰å¤„ç†
- **è·¨å¹³å°é€šä¿¡**ï¼šWindows (Arma 3) ä¸ Linux (ROS) ä¹‹é—´é€šè¿‡ TCP/IP è¿›è¡Œå®æ—¶é€šä¿¡
- **å®Œæ•´çš„æ„ŸçŸ¥-è§„åˆ’-æ§åˆ¶é—­ç¯**ï¼šä»å›¾åƒé‡‡é›†ã€ç‚¹äº‘ç”Ÿæˆã€è·¯å¾„è§„åˆ’åˆ°æ§åˆ¶æ‰§è¡Œçš„å®Œæ•´æµç¨‹
- **EGO-Planner-v2 é›†æˆ**ï¼šä½¿ç”¨ ZJU-FAST-Lab çš„ EGO-Planner-v2 è¿›è¡Œå¤šæ— äººæœºè·¯å¾„è§„åˆ’
- **ARK æ¡†æ¶é›†æˆï¼ˆå¯é€‰ï¼‰**ï¼šæ”¯æŒ ARK Robotics æ¡†æ¶ï¼Œæä¾›æ‰©æ•£ç­–ç•¥ã€æ¨¡ä»¿å­¦ä¹ ç­‰å…ˆè¿› ML ç®—æ³•

### åº”ç”¨åœºæ™¯

- ç¾å®³æ•‘æ´ä¸­çš„ç‰©èµ„æŠ•é€
- å¤šæ— äººæœºååŒæœç´¢
- ç¾¤ä½“æ— äººæœºç¼–é˜Ÿé£è¡Œ
- è·¯å¾„è§„åˆ’ç®—æ³•çš„è™šæ‹Ÿä»¿çœŸéªŒè¯

---

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Windows ä¸»æœº                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Arma 3 æ¸¸æˆå¼•æ“                          â”‚  â”‚
â”‚  â”‚  - 6 æ¶æ— äººæœºæ¨¡å‹                                    â”‚  â”‚
â”‚  â”‚  - 6 ä¸ªæ‘„åƒå¤´è§†è§’ï¼ˆRender-to-Textureï¼‰               â”‚  â”‚
â”‚  â”‚  - SQF è„šæœ¬æ§åˆ¶                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Python æ¡¥æ¥ç¨‹åº                              â”‚  â”‚
â”‚  â”‚  - å›¾åƒæ•è·ï¼ˆPIL.ImageGrabï¼‰                         â”‚  â”‚
â”‚  â”‚  - JPEG å‹ç¼©                                         â”‚  â”‚
â”‚  â”‚  - TCP/IP å®¢æˆ·ç«¯                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ TCP/IP (Port 5555)
                     â”‚ å›¾åƒæ•°æ® + çŠ¶æ€æ•°æ®
                     â”‚ æ§åˆ¶æŒ‡ä»¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Linux è™šæ‹Ÿæœº / ä¸»æœº                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           ROS Noetic ç¯å¢ƒ                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  arma3_ros_bridge èŠ‚ç‚¹                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - TCP/IP æœåŠ¡å™¨                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - å›¾åƒæ¥æ”¶å’Œå‘å¸ƒ                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - çŠ¶æ€æ•°æ®å¤„ç†                                â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚               â”‚                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  stereo_vision èŠ‚ç‚¹                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - å¤šè§†è§’å›¾åƒé…å‡†                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - è§†å·®è®¡ç®—                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - ç‚¹äº‘ç”Ÿæˆ                                    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚               â”‚                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  EGO-Planner-v2                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - ç‚¹äº‘å¤„ç†                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - è·¯å¾„è§„åˆ’                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - è½¨è¿¹ä¼˜åŒ–                                    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚               â”‚                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  ego_planner_interface èŠ‚ç‚¹                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - çŠ¶æ€è½¬æ¢                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - ç›®æ ‡è®¾ç½®                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æ§åˆ¶æŒ‡ä»¤ç”Ÿæˆ                                â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚               â”‚                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  ARK é›†æˆèŠ‚ç‚¹ï¼ˆå¯é€‰ï¼‰                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - ML å¢å¼ºæ§åˆ¶                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æ‰©æ•£ç­–ç•¥                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æ¨¡ä»¿å­¦ä¹                                     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

#### Windows ç«¯
- âœ… **å®Œæ•´çš„ Arma 3 MOD**
  - 6 æ¶æ— äººæœºçš„åœºæ™¯è®¾ç½®
  - 6 ä¸ªæ‘„åƒå¤´è§†è§’çš„å®æ—¶æ¸²æŸ“
  - SQF è„šæœ¬æ§åˆ¶æ— äººæœºè¡Œä¸º
  - åŸºäº codingWithArma3 é¡¹ç›®çš„å›¾åƒæˆªå–åŠŸèƒ½

- âœ… **å¢å¼ºçš„æ¡¥æ¥ç¨‹åº**
  - å¤šçº¿ç¨‹å›¾åƒé‡‡é›†ï¼ˆ6 ä¸ªè§†è§’ï¼‰
  - JPEG å‹ç¼©ï¼ˆè´¨é‡ 85%ï¼‰
  - TCP/IP å®¢æˆ·ç«¯
  - åŒå‘é€šä¿¡ï¼ˆå‘é€å›¾åƒå’ŒçŠ¶æ€ï¼Œæ¥æ”¶æ§åˆ¶æŒ‡ä»¤ï¼‰

#### Linux ç«¯
- âœ… **ROS æ¡¥æ¥èŠ‚ç‚¹**
  - TCP/IP æœåŠ¡å™¨
  - å›¾åƒæ¥æ”¶å’Œå‘å¸ƒåˆ° ROS è¯é¢˜
  - çŠ¶æ€æ•°æ®å¤„ç†
  - æ§åˆ¶æŒ‡ä»¤è½¬å‘

- âœ… **å›¾åƒå¤„ç†èŠ‚ç‚¹**
  - å¤šè§†è§’å›¾åƒé…å‡†
  - ç«‹ä½“è§†è§‰å¤„ç†
  - è§†å·®è®¡ç®—
  - ç‚¹äº‘ç”Ÿæˆ

- âœ… **EGO-Planner-v2 é›†æˆ**
  - å®Œæ•´çš„ EGO-Planner-v2 ä»£ç 
  - è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬
  - ROS æ¥å£èŠ‚ç‚¹
  - è·¯å¾„è§„åˆ’å’Œè½¨è¿¹ä¼˜åŒ–

- âœ… **ARK æ¡†æ¶é›†æˆï¼ˆå¯é€‰ï¼‰**
  - ARK é›†æˆèŠ‚ç‚¹
  - æ‰©æ•£ç­–ç•¥æ”¯æŒ
  - æ¨¡ä»¿å­¦ä¹ æ”¯æŒ
  - è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬

#### éƒ¨ç½²å’Œæ–‡æ¡£
- âœ… **ä¸€é”®éƒ¨ç½²è„šæœ¬**
  - Linux ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ˆ`deploy.sh`ï¼‰
  - Windows ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ˆ`deploy.bat`ï¼‰
  - å¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼ˆ`start.sh` å’Œ `start.bat`ï¼‰

- âœ… **å®Œæ•´çš„æ–‡æ¡£**
  - è¯¦ç»†çš„ README
  - Arma 3 MOD ä½¿ç”¨æŒ‡å—
  - ARK é›†æˆæ–‡æ¡£
  - æ•…éšœæ’é™¤æŒ‡å—

### ğŸš§ å¾…å®Œå–„åŠŸèƒ½

- â³ **GUI ç•Œé¢**ï¼šç”¨äºé€‰æ‹©åœ°å›¾ä¸­çš„ç›®æ ‡ç‚¹
- â³ **Docker å®¹å™¨åŒ–**ï¼šå°† ROS å’Œ EGO-Planner éƒ¨ç½²åœ¨ Docker ä¸­
- â³ **å®æ—¶æ€§èƒ½ä¼˜åŒ–**ï¼šé™ä½å»¶è¿Ÿï¼Œæé«˜å¸§ç‡
- â³ **æ›´å¤šä¼ æ„Ÿå™¨æ¨¡æ‹Ÿ**ï¼šæ¿€å…‰é›·è¾¾ã€IMU ç­‰
- â³ **çœŸå®æ— äººæœºæµ‹è¯•**ï¼šSim-to-Real è½¬ç§»

---

## ç¯å¢ƒè¦æ±‚

### Windows ç«¯

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11 (64-bit)
- **Arma 3**ï¼šå®Œæ•´ç‰ˆæ¸¸æˆï¼ˆSteamï¼‰
- **Python**ï¼š3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Python åŒ…**ï¼š
  - Pillow
  - numpy
  - opencv-python

### Linux ç«¯

- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 20.04 LTSï¼ˆæ¨èï¼‰
- **ROS**ï¼šROS Noetic
- **Python**ï¼š3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ä¾èµ–**ï¼š
  - cv_bridge
  - image_transport
  - pcl
  - Armadillo
  - Google Glog
  - SuiteSparse

### ç½‘ç»œ

- Windows ä¸»æœºå’Œ Linux è™šæ‹Ÿæœº/ä¸»æœºéœ€è¦åœ¨åŒä¸€å±€åŸŸç½‘
- ç¡®ä¿é˜²ç«å¢™å…è®¸ TCP ç«¯å£ 5555 çš„é€šä¿¡

---

## å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šLinux ç«¯éƒ¨ç½²

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/HitTheStars/Ros_arma3_Connection.git
cd Ros_arma3_Connection/linux_side

# è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
chmod +x deploy.sh
./deploy.sh

# éƒ¨ç½²å®Œæˆåï¼Œè®°ä¸‹æ˜¾ç¤ºçš„ Linux IP åœ°å€
```

### ç¬¬äºŒæ­¥ï¼šWindows ç«¯éƒ¨ç½²

```batch
REM å…‹éš†ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git clone https://github.com/HitTheStars/Ros_arma3_Connection.git
cd Ros_arma3_Connection\windows_side

REM è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
deploy.bat

REM æŒ‰ç…§æç¤ºè¾“å…¥ Linux IP åœ°å€
```

### ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨ç³»ç»Ÿ

#### 1. å¯åŠ¨ Linux ç«¯

```bash
cd linux_side
./start.sh
```

#### 2. å¯åŠ¨ Arma 3

- æ‰“å¼€ Arma 3
- ç‚¹å‡» "Editor"
- é€‰æ‹© "Altis" åœ°å›¾
- åŠ è½½ "Camera" ä»»åŠ¡
- ç‚¹å‡» "Preview" å¼€å§‹

#### 3. å¯åŠ¨ Windows æ¡¥æ¥ç¨‹åº

```batch
cd windows_side
start.bat
```

---

## è¯¦ç»†å®‰è£…æŒ‡å—

### Linux ç«¯è¯¦ç»†å®‰è£…

#### 1. å®‰è£… ROS Noetic

```bash
# è®¾ç½® sources.list
sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'

# è®¾ç½®å¯†é’¥
sudo apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654

# å®‰è£…
sudo apt-get update
sudo apt-get install ros-noetic-desktop-full

# åˆå§‹åŒ– rosdep
sudo rosdep init
rosdep update

# è®¾ç½®ç¯å¢ƒ
echo "source /opt/ros/noetic/setup.bash" >> ~/.bashrc
source ~/.bashrc
```

#### 2. åˆ›å»º catkin å·¥ä½œç©ºé—´

```bash
mkdir -p ~/catkin_ws/src
cd ~/catkin_ws
catkin_make
source devel/setup.bash
echo "source ~/catkin_ws/devel/setup.bash" >> ~/.bashrc
```

#### 3. å®‰è£… EGO-Planner-v2

```bash
cd Ros_arma3_Connection/linux_side
chmod +x install_ego_planner.sh
./install_ego_planner.sh
```

#### 4. å®‰è£… ROS èŠ‚ç‚¹

```bash
# å¤åˆ¶ ROS èŠ‚ç‚¹åˆ° catkin å·¥ä½œç©ºé—´
cp -r ros_nodes ~/catkin_ws/src/arma3_ros_bridge
cp -r image_processing ~/catkin_ws/src/arma3_ros_bridge/

# ç¼–è¯‘
cd ~/catkin_ws
catkin_make
source devel/setup.bash
```

#### 5. ï¼ˆå¯é€‰ï¼‰å®‰è£… ARK æ¡†æ¶

```bash
cd Ros_arma3_Connection/linux_side
chmod +x install_ark.sh
./install_ark.sh
```

### Windows ç«¯è¯¦ç»†å®‰è£…

#### 1. å®‰è£… Python

ä» [python.org](https://www.python.org/) ä¸‹è½½å¹¶å®‰è£… Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

**é‡è¦**ï¼šå®‰è£…æ—¶å‹¾é€‰ "Add Python to PATH"ã€‚

#### 2. å®‰è£… Python åŒ…

```batch
pip install --upgrade pip
pip install pillow numpy opencv-python
```

#### 3. å®‰è£… Arma 3 MOD

æ‰‹åŠ¨æ–¹å¼ï¼š

1. æ‰¾åˆ°ä½ çš„ Arma 3 ä»»åŠ¡ç›®å½•ï¼š
   ```
   C:\Users\<ä½ çš„ç”¨æˆ·å>\Documents\Arma 3 - Other Profiles\<ä½ çš„æ¸¸æˆå>\missions\
   ```

2. å°† `windows_side/arma3_mod/Camera.Altis` æ–‡ä»¶å¤¹å¤åˆ¶åˆ°è¯¥ç›®å½•

è‡ªåŠ¨æ–¹å¼ï¼š

è¿è¡Œ `windows_side/deploy.bat`ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¤åˆ¶ã€‚

#### 4. é…ç½®ç½‘ç»œ

ç¼–è¾‘ `windows_side/bridge_program/arma3_bridge_enhanced.py`ï¼š

```python
# ä¿®æ”¹ä¸ºä½ çš„ Linux VM IP åœ°å€
SERVER_IP = '192.168.1.100'  # æ”¹æˆä½ çš„ IP
SERVER_PORT = 5555
```

---

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨ Linux ç«¯ ROS èŠ‚ç‚¹**

   ```bash
   cd linux_side
   ./start.sh
   ```

   ä½ ä¼šçœ‹åˆ°ç±»ä¼¼çš„è¾“å‡ºï¼š
   ```
   [ INFO] [1234567890.123]: Arma3 ROS Bridge started
   [ INFO] [1234567890.124]: Waiting for connection on 0.0.0.0:5555...
   ```

2. **å¯åŠ¨ Arma 3 å¹¶åŠ è½½ä»»åŠ¡**

   - æ‰“å¼€ Arma 3
   - Editor -> Altis -> Load -> Camera
   - Preview (Ctrl+P)

   ä½ åº”è¯¥çœ‹åˆ° 6 ä¸ªæ‘„åƒå¤´è§†è§’æ˜¾ç¤ºåœ¨å±å¹•é¡¶éƒ¨ã€‚

3. **å¯åŠ¨ Windows æ¡¥æ¥ç¨‹åº**

   ```batch
   cd windows_side
   start.bat
   ```

   ä½ ä¼šçœ‹åˆ°ï¼š
   ```
   Starting Enhanced Arma 3 Bridge...
   Connected to ROS server at 192.168.1.100:5555
   ```

4. **è§‚å¯Ÿæ•°æ®æµ**

   åœ¨ Linux ç«¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ ROS å·¥å…·æŸ¥çœ‹æ•°æ®ï¼š

   ```bash
   # æŸ¥çœ‹è¯é¢˜åˆ—è¡¨
   rostopic list

   # æŸ¥çœ‹å›¾åƒè¯é¢˜
   rostopic echo /arma3/camera_0/image_raw

   # æŸ¥çœ‹ç‚¹äº‘è¯é¢˜
   rostopic echo /arma3/point_cloud

   # ä½¿ç”¨ rviz å¯è§†åŒ–
   rviz
   ```

### ä½¿ç”¨ EGO-Planner è¿›è¡Œè·¯å¾„è§„åˆ’

1. **è®¾ç½®ç›®æ ‡ç‚¹**

   åœ¨ ROS ä¸­å‘å¸ƒç›®æ ‡ç‚¹ï¼š

   ```bash
   rostopic pub /goal geometry_msgs/PoseStamped "{header: {frame_id: 'world'}, pose: {position: {x: 100.0, y: 100.0, z: 50.0}}}"
   ```

2. **è§‚å¯Ÿè·¯å¾„è§„åˆ’ç»“æœ**

   ```bash
   # æŸ¥çœ‹è§„åˆ’çš„è·¯å¾„
   rostopic echo /ego_planner/trajectory

   # åœ¨ rviz ä¸­å¯è§†åŒ–
   rviz -d ego_planner_config.rviz
   ```

3. **æ§åˆ¶æ— äººæœº**

   è§„åˆ’çš„è·¯å¾„ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ§åˆ¶æŒ‡ä»¤ï¼Œå‘é€å› Arma 3ã€‚

### ä½¿ç”¨ ARK æ¡†æ¶ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ å®‰è£…äº† ARK æ¡†æ¶ï¼š

1. **å¯åŠ¨å¸¦ ARK çš„ç³»ç»Ÿ**

   ```bash
   cd linux_side
   ./start.sh
   # é€‰æ‹© 'y' å¯ç”¨ ARK
   ```

2. **è®­ç»ƒè‡ªå®šä¹‰ç­–ç•¥**

   å‚è§ `docs/ARK_INTEGRATION.md` ä¸­çš„è¯¦ç»†è¯´æ˜ã€‚

---

## é…ç½®è¯´æ˜

### ç½‘ç»œé…ç½®

#### Linux ç«¯

é»˜è®¤é…ç½®åœ¨ `linux_side/ros_nodes/arma3_ros_bridge.py`ï¼š

```python
HOST = '0.0.0.0'  # ç›‘å¬æ‰€æœ‰æ¥å£
PORT = 5555       # ç«¯å£å·
```

#### Windows ç«¯

é…ç½®åœ¨ `windows_side/bridge_program/arma3_bridge_enhanced.py`ï¼š

```python
SERVER_IP = '192.168.1.100'  # Linux VM çš„ IP
SERVER_PORT = 5555
```

### å›¾åƒé‡‡é›†é…ç½®

#### æˆªå›¾åŒºåŸŸ

åœ¨ `windows_side/bridge_program/arma3_bridge_enhanced.py` ä¸­ï¼š

```python
self.regions = [
    (0, 255, 455, 511),      # åŒºåŸŸ 1
    (455, 255, 911, 511),    # åŒºåŸŸ 2
    (911, 255, 1365, 511),   # åŒºåŸŸ 3
    (0, 511, 455, 767),      # åŒºåŸŸ 4
    (455, 511, 911, 767),    # åŒºåŸŸ 5
    (911, 511, 1365, 767)    # åŒºåŸŸ 6
]
```

**æ³¨æ„**ï¼šè¿™äº›åæ ‡æ˜¯åŸºäº 1920x1080 åˆ†è¾¨ç‡çš„ã€‚å¦‚æœä½ çš„å±å¹•åˆ†è¾¨ç‡ä¸åŒï¼Œéœ€è¦è°ƒæ•´ã€‚

#### å›¾åƒé‡‡é›†é¢‘ç‡

```python
image_interval = 0.5  # 2 Hz (æ¯ç§’ 2 å¸§)
status_interval = 0.1  # 10 Hz (æ¯ç§’ 10 æ¬¡çŠ¶æ€æ›´æ–°)
```

#### JPEG å‹ç¼©è´¨é‡

```python
screenshot.save(img_buffer, format='JPEG', quality=85)
```

è´¨é‡èŒƒå›´ï¼š1-100ï¼Œè¶Šé«˜è´¨é‡è¶Šå¥½ä½†æ–‡ä»¶è¶Šå¤§ã€‚

### Arma 3 MOD é…ç½®

#### æ— äººæœºæ•°é‡

åœ¨ `windows_side/arma3_mod/Camera.Altis/init.sqf` ä¸­ï¼š

```sqf
_uavs = [uav1, uav2, uav3, uav4, uav5, uav6];
```

#### æ‘„åƒå¤´å‚æ•°

```sqf
_cam camSetFov 0.75;  // è§†é‡èŒƒå›´
private _pitch = 15 * (pi / 180);  // ä¿¯è§†è§’åº¦
```

#### æ— äººæœºé£è¡Œå‚æ•°

```sqf
_uav flyInHeight 10;     // é£è¡Œé«˜åº¦ï¼ˆç±³ï¼‰
_uav limitSpeed 100;     // æœ€å¤§é€Ÿåº¦ï¼ˆkm/hï¼‰
```

---

## é¡¹ç›®ç»“æ„

```
Ros_arma3_Connection/
â”œâ”€â”€ README.md                          # æœ¬æ–‡ä»¶
â”œâ”€â”€ LICENSE                            # MIT è®¸å¯è¯
â”‚
â”œâ”€â”€ windows_side/                      # Windows ç«¯ä»£ç 
â”‚   â”œâ”€â”€ deploy.bat                     # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ start.bat                      # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ arma3_mod/                     # Arma 3 MOD
â”‚   â”‚   â”œâ”€â”€ README.md                  # MOD ä½¿ç”¨æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ init.sqf                   # ç®€åŒ–ç‰ˆåˆå§‹åŒ–è„šæœ¬
â”‚   â”‚   â””â”€â”€ Camera.Altis/              # å®Œæ•´çš„ä»»åŠ¡æ–‡ä»¶å¤¹
â”‚   â”‚       â”œâ”€â”€ init.sqf               # ä»»åŠ¡åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚       â””â”€â”€ mission.sqm            # ä»»åŠ¡åœºæ™¯æ–‡ä»¶
â”‚   â”‚
â”‚   â””â”€â”€ bridge_program/                # Python æ¡¥æ¥ç¨‹åº
â”‚       â”œâ”€â”€ arma3_bridge.py            # åŸå§‹æ¡¥æ¥ç¨‹åº
â”‚       â”œâ”€â”€ arma3_bridge_enhanced.py   # å¢å¼ºç‰ˆæ¡¥æ¥ç¨‹åºï¼ˆæ¨èï¼‰
â”‚       â”œâ”€â”€ screenshot.py              # å›¾åƒæˆªå–è„šæœ¬
â”‚       â””â”€â”€ requirements.txt           # Python ä¾èµ–
â”‚
â”œâ”€â”€ linux_side/                        # Linux ç«¯ä»£ç 
â”‚   â”œâ”€â”€ deploy.sh                      # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ start.sh                       # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ install_ego_planner.sh         # EGO-Planner å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ install_ark.sh                 # ARK æ¡†æ¶å®‰è£…è„šæœ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ ego_planner/                   # EGO-Planner-v2 ä»£ç 
â”‚   â”‚   â”œâ”€â”€ main_ws/                   # ä¸»å·¥ä½œç©ºé—´
â”‚   â”‚   â”œâ”€â”€ formation_ws/              # ç¼–é˜Ÿå·¥ä½œç©ºé—´
â”‚   â”‚   â”œâ”€â”€ tracking_ws/               # è·Ÿè¸ªå·¥ä½œç©ºé—´
â”‚   â”‚   â””â”€â”€ interlaced_flight_ws/      # äº¤é”™é£è¡Œå·¥ä½œç©ºé—´
â”‚   â”‚
â”‚   â”œâ”€â”€ ros_nodes/                     # ROS èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ arma3_ros_bridge.py        # ROS æ¡¥æ¥èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ stereo_vision.py           # ç«‹ä½“è§†è§‰èŠ‚ç‚¹ï¼ˆå ä½ï¼‰
â”‚   â”‚   â”œâ”€â”€ ego_planner_interface.py   # EGO-Planner æ¥å£èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ ark_integration.py         # ARK é›†æˆèŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ arma3_bridge.launch        # ROS launch æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ arma3_bridge_with_ark.launch  # å¸¦ ARK çš„ launch æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ CMakeLists.txt             # CMake é…ç½®
â”‚   â”‚   â””â”€â”€ package.xml                # ROS åŒ…é…ç½®
â”‚   â”‚
â”‚   â””â”€â”€ image_processing/              # å›¾åƒå¤„ç†æ¨¡å—
â”‚       â””â”€â”€ stereo_vision.py           # ç«‹ä½“è§†è§‰å¤„ç†
â”‚
â””â”€â”€ docs/                              # æ–‡æ¡£
    â””â”€â”€ ARK_INTEGRATION.md             # ARK é›†æˆæ–‡æ¡£
```

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ— æ³•è¿æ¥åˆ° ROS æœåŠ¡å™¨

**ç—‡çŠ¶**ï¼š
```
Failed to connect: [Errno 111] Connection refused
```

**å¯èƒ½åŸå› **ï¼š
1. Linux ç«¯çš„ ROS èŠ‚ç‚¹æ²¡æœ‰å¯åŠ¨
2. IP åœ°å€æˆ–ç«¯å£é…ç½®é”™è¯¯
3. é˜²ç«å¢™é˜»æ­¢è¿æ¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. ç¡®ä¿ Linux ç«¯çš„ ROS èŠ‚ç‚¹å·²å¯åŠ¨ï¼š
   ```bash
   rostopic list
   # åº”è¯¥çœ‹åˆ° /arma3/... è¯é¢˜
   ```

2. æ£€æŸ¥ IP åœ°å€ï¼š
   ```bash
   # åœ¨ Linux ä¸Š
   hostname -I
   ```

3. æ£€æŸ¥é˜²ç«å¢™ï¼š
   ```bash
   # åœ¨ Linux ä¸Š
   sudo ufw allow 5555/tcp
   ```

4. æµ‹è¯•è¿æ¥ï¼š
   ```bash
   # åœ¨ Windows ä¸Š
   telnet <Linux_IP> 5555
   ```

### é—®é¢˜ 2ï¼šArma 3 æ‘„åƒå¤´æ²¡æœ‰æ˜¾ç¤º

**ç—‡çŠ¶**ï¼š
å±å¹•é¡¶éƒ¨æ²¡æœ‰æ˜¾ç¤º 6 ä¸ªæ‘„åƒå¤´è§†è§’ã€‚

**å¯èƒ½åŸå› **ï¼š
1. æ— äººæœºåç§°ä¸åŒ¹é…
2. init.sqf æ²¡æœ‰æ­£ç¡®åŠ è½½

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ£€æŸ¥æ— äººæœºåç§°ï¼š
   - åœ¨ Arma 3 ç¼–è¾‘å™¨ä¸­ï¼Œé€‰æ‹©æ— äººæœº
   - ç¡®ä¿åç§°ä¸º `uav1`, `uav2`, ..., `uav6`

2. æ£€æŸ¥ init.sqfï¼š
   - ç¡®ä¿ `init.sqf` åœ¨ä»»åŠ¡æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•
   - é‡æ–°åŠ è½½ä»»åŠ¡

3. æŸ¥çœ‹ Arma 3 çš„é”™è¯¯æ—¥å¿—ï¼š
   ```
   C:\Users\<ä½ çš„ç”¨æˆ·å>\AppData\Local\Arma 3\arma3.rpt
   ```

### é—®é¢˜ 3ï¼šå›¾åƒä¼ è¾“å»¶è¿Ÿå¾ˆå¤§

**ç—‡çŠ¶**ï¼š
ROS ç«¯æ¥æ”¶åˆ°çš„å›¾åƒæœ‰æ˜æ˜¾å»¶è¿Ÿï¼ˆ> 1 ç§’ï¼‰ã€‚

**å¯èƒ½åŸå› **ï¼š
1. ç½‘ç»œå¸¦å®½ä¸è¶³
2. JPEG å‹ç¼©è´¨é‡å¤ªé«˜
3. å›¾åƒé‡‡é›†é¢‘ç‡å¤ªé«˜

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. é™ä½ JPEG å‹ç¼©è´¨é‡ï¼š
   ```python
   screenshot.save(img_buffer, format='JPEG', quality=70)  # ä» 85 é™åˆ° 70
   ```

2. é™ä½å›¾åƒé‡‡é›†é¢‘ç‡ï¼š
   ```python
   image_interval = 1.0  # ä» 0.5 å¢åŠ åˆ° 1.0ï¼ˆ1 Hzï¼‰
   ```

3. ä½¿ç”¨æœ‰çº¿ç½‘ç»œè€Œä¸æ˜¯ WiFi

4. é™ä½å›¾åƒåˆ†è¾¨ç‡ï¼ˆä¿®æ”¹æˆªå›¾åŒºåŸŸå¤§å°ï¼‰

### é—®é¢˜ 4ï¼šEGO-Planner ç¼–è¯‘å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
CMake Error: ...
```

**å¯èƒ½åŸå› **ï¼š
1. ç¼ºå°‘ä¾èµ–
2. ROS ç¯å¢ƒæ²¡æœ‰æ­£ç¡®è®¾ç½®

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š
   ```bash
   sudo apt-get install -y \
       ros-noetic-cv-bridge \
       ros-noetic-pcl-* \
       libarmadillo-dev \
       libgoogle-glog-dev
   ```

2. ç¡®ä¿ ROS ç¯å¢ƒå·²è®¾ç½®ï¼š
   ```bash
   source /opt/ros/noetic/setup.bash
   source ~/catkin_ws/devel/setup.bash
   ```

3. æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘ï¼š
   ```bash
   cd ~/catkin_ws
   catkin_make clean
   catkin_make
   ```

### é—®é¢˜ 5ï¼šARK æ¡†æ¶å®‰è£…å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
ModuleNotFoundError: No module named 'ark'
```

**å¯èƒ½åŸå› **ï¼š
1. Conda ç¯å¢ƒæ²¡æœ‰æ¿€æ´»
2. ARK æ²¡æœ‰æ­£ç¡®å®‰è£…

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ¿€æ´» Conda ç¯å¢ƒï¼š
   ```bash
   conda activate ark_env
   ```

2. é‡æ–°å®‰è£… ARKï¼š
   ```bash
   cd ~/ark_framework
   pip install -e .
   ```

3. éªŒè¯å®‰è£…ï¼š
   ```bash
   python -c "import ark; print(ark.__version__)"
   ```

---

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ ROS èŠ‚ç‚¹

1. åœ¨ `linux_side/ros_nodes/` ä¸­åˆ›å»ºæ–°çš„ Python æ–‡ä»¶

2. åœ¨ `CMakeLists.txt` ä¸­æ·»åŠ ï¼š
   ```cmake
   catkin_install_python(PROGRAMS
     scripts/your_new_node.py
     DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
   )
   ```

3. åœ¨ launch æ–‡ä»¶ä¸­æ·»åŠ ï¼š
   ```xml
   <node name="your_new_node" pkg="arma3_ros_bridge" type="your_new_node.py" output="screen"/>
   ```

### ä¿®æ”¹é€šä¿¡åè®®

é€šä¿¡åè®®å®šä¹‰åœ¨ï¼š
- Windows ç«¯ï¼š`arma3_bridge_enhanced.py`
- Linux ç«¯ï¼š`arma3_ros_bridge.py`

æ·»åŠ æ–°çš„æ¶ˆæ¯ç±»å‹ï¼š

1. å®šä¹‰æ¶ˆæ¯å¤´ï¼ˆ4 å­—èŠ‚ï¼‰
2. å®šä¹‰æ¶ˆæ¯æ ¼å¼ï¼ˆä½¿ç”¨ `struct.pack/unpack`ï¼‰
3. åœ¨ä¸¤ç«¯åŒæ—¶å®ç°

ç¤ºä¾‹ï¼š

```python
# å‘é€ç«¯
packet = bytearray()
packet.extend(b'NEWM')  # æ–°æ¶ˆæ¯ç±»å‹
packet.extend(struct.pack('I', data))
socket.sendall(packet)

# æ¥æ”¶ç«¯
header = socket.recv(4)
if header == b'NEWM':
    data = struct.unpack('I', socket.recv(4))[0]
```

### è´¡çŒ®ä»£ç 

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

---

## è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- **EGO-Planner-v2**: [ZJU-FAST-Lab/EGO-Planner-v2](https://github.com/ZJU-FAST-Lab/EGO-Planner-v2)
- **ARK Robotics**: [Robotics-Ark/ark_framework](https://github.com/Robotics-Ark/ark_framework)
- **ArmaCOM**: [googleben/ArmaCOM](https://github.com/googleben/ArmaCOM)
- **codingWithArma3**: [Daboolu/codingWithArma3](https://github.com/Daboolu/codingWithArma3)

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- ZJU-FAST-Lab å›¢é˜Ÿçš„ EGO-Planner ç®—æ³•
- ARK Robotics å›¢é˜Ÿçš„æœºå™¨å­¦ä¹ æ¡†æ¶
- Arma 3 ç¤¾åŒºçš„ SQF è„šæœ¬èµ„æº

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues: [https://github.com/HitTheStars/Ros_arma3_Connection/issues](https://github.com/HitTheStars/Ros_arma3_Connection/issues)
- Email: your-email@example.com

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼Happy Flying! ğŸš**
